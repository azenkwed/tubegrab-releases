<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TubeGrab - Fast YouTube Downloads</title>
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/favicon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/favicon-512.png">
    <link rel="stylesheet" href="site.css">
  </head>
  <body>
    <div class="bg" aria-hidden="true"></div>
    <header class="topbar">
      <div class="brand">
        <span class="dot"></span>
        <span>TubeGrab</span>
      </div>
      <nav class="nav">
        <a href="#download">Download</a>
        <a href="#features">Features</a>
        <a href="#install">Install</a>
      </nav>
    </header>

    <main class="hero">
      <div class="hero-content">
        <div class="pill">
          Latest version
          <span class="version" data-version="v0.3.11">v0.3.11</span>
        </div>
        <h1>Grab it. Clean.</h1>
        <p>
          TubeGrab is a modern desktop app for downloading audio or video from
          YouTube and YouTube Music with a fast, no-nonsense workflow.
        </p>
        <div class="cta">
          <a class="btn primary" href="https://github.com/azenkwed/tubegrab-releases/releases/latest" id="download">
            Download latest release
          </a>
          <a class="btn donate" href="https://ko-fi.com/azenkwed">
            Donate
          </a>
        </div>
        <div class="download-note" id="download-note">
          Auto-selecting the best download for your device.
        </div>
        <div class="platforms">
          <span>Windows</span>
          <span>macOS</span>
          <span>Linux</span>
        </div>
      </div>
      <div class="hero-card">
        <div class="card-header">Quick flow</div>
        <ol>
          <li>Paste a YouTube or YouTube Music link.</li>
          <li>Pick a folder and format.</li>
          <li>Download with clean metadata.</li>
        </ol>
      </div>
    </main>

    <section class="section" id="features">
      <h2>Built for a clean download experience</h2>
      <div class="grid">
        <div class="card">
          <h3>Audio or video</h3>
          <p>Choose mp3, m4a, or opus for audio, or mp4 and mkv for video.</p>
        </div>
        <div class="card">
          <h3>Smart defaults</h3>
          <p>Automatic presets for YouTube and YouTube Music URLs.</p>
        </div>
        <div class="card">
          <h3>Metadata ready</h3>
          <p>Optional metadata and thumbnail embedding with clean tags.</p>
        </div>
      </div>
    </section>

    <section class="section" id="install">
      <h2>Install in minutes</h2>
      <div class="grid">
        <div class="card">
          <h3>Windows</h3>
          <p>Run <strong>TubeGrab-Setup.exe</strong> and follow the prompts.</p>
        </div>
        <div class="card">
          <h3>macOS</h3>
          <p>Open the DMG and drag TubeGrab into Applications.</p>
        </div>
        <div class="card">
          <h3>Linux</h3>
          <p>Mark the AppImage executable and run it.</p>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div>
        Need help? Read the
        <a href="USER_MANUAL.pdf" download>user manual (PDF)</a>.
      </div>
      <div>
        Support TubeGrab:
        <a href="https://ko-fi.com/azenkwed">ko-fi.com/azenkwed</a>
      </div>
    </footer>
    <script>
      (function () {
        const download = document.getElementById("download");
        const note = document.getElementById("download-note");
        if (!download) {
          return;
        }
        const repo = "azenkwed/tubegrab-releases";
        const os = navigator.platform || navigator.userAgent || "";
        const isMac = /Mac|iPhone|iPad|iPod/i.test(os);
        const isWindows = /Win/i.test(os);
        const isLinux = /Linux/i.test(os);
        let desiredExt = "";
        let label = "Download latest release";
        if (isWindows) {
          desiredExt = ".exe";
          label = "Download for Windows";
        } else if (isMac) {
          desiredExt = ".dmg";
          label = "Download for macOS";
        } else if (isLinux) {
          desiredExt = ".AppImage";
          label = "Download for Linux";
        }
        download.textContent = label;
        fetch(`https://api.github.com/repos/${repo}/releases/latest`)
          .then((res) => (res.ok ? res.json() : Promise.reject(res.status)))
          .then((data) => {
            if (!desiredExt || !data || !data.assets) {
              return;
            }
            const asset = data.assets.find((item) =>
              item.name && item.name.endsWith(desiredExt)
            );
            if (asset && asset.browser_download_url) {
              download.href = asset.browser_download_url;
              if (note) {
                note.textContent = `Direct download (${asset.name})`;
              }
            }
          })
          .catch(() => {
            if (note) {
              note.textContent = "Direct download unavailable. Using latest releases page.";
            }
          });
      })();
    </script>
  </body>
</html>
